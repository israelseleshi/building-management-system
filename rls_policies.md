| schemaname | tablename                | policyname                                           | permissive | roles           | cmd    | qual                                                                                                                                                                            | with_check                                                                                                                                         |
| ---------- | ------------------------ | ---------------------------------------------------- | ---------- | --------------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| public     | document_types           | document_types_select_authenticated                  | PERMISSIVE | {public}        | SELECT | (auth.role() = 'authenticated'::text)                                                                                                                                           | null                                                                                                                                               |
| public     | employees                | Employees can read own record                        | PERMISSIVE | {public}        | SELECT | (id = auth.uid())                                                                                                                                                               | null                                                                                                                                               |
| public     | employees                | Owners can delete own employees                      | PERMISSIVE | {public}        | DELETE | (owner_id = auth.uid())                                                                                                                                                         | null                                                                                                                                               |
| public     | employees                | Owners can insert employees                          | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                            | (owner_id = auth.uid())                                                                                                                            |
| public     | employees                | Owners can read own employees                        | PERMISSIVE | {public}        | SELECT | (owner_id = auth.uid())                                                                                                                                                         | null                                                                                                                                               |
| public     | employees                | Owners can update own employees                      | PERMISSIVE | {public}        | UPDATE | (owner_id = auth.uid())                                                                                                                                                         | null                                                                                                                                               |
| public     | notification_preferences | Users can create their notification preferences      | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                            | (auth.uid() = user_id)                                                                                                                             |
| public     | notification_preferences | Users can update their notification preferences      | PERMISSIVE | {public}        | UPDATE | (auth.uid() = user_id)                                                                                                                                                          | null                                                                                                                                               |
| public     | notification_preferences | Users can view their notification preferences        | PERMISSIVE | {public}        | SELECT | (auth.uid() = user_id)                                                                                                                                                          | null                                                                                                                                               |
| public     | notifications            | Owners can insert notifications                      | PERMISSIVE | {authenticated} | INSERT | null                                                                                                                                                                            | (EXISTS ( SELECT 1
   FROM profiles
  WHERE ((profiles.id = auth.uid()) AND (profiles.role = 'owner'::text))))                                     |
| public     | notifications            | Users can update their own notifications             | PERMISSIVE | {public}        | UPDATE | (auth.uid() = user_id)                                                                                                                                                          | null                                                                                                                                               |
| public     | notifications            | Users can view their own notifications               | PERMISSIVE | {public}        | SELECT | (auth.uid() = user_id)                                                                                                                                                          | null                                                                                                                                               |
| public     | notifications            | Users can view their own or global notifications     | PERMISSIVE | {authenticated} | SELECT | ((auth.uid() = user_id) OR (is_global = true))                                                                                                                                  | null                                                                                                                                               |
| public     | payment_methods          | Users can create payment methods                     | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                            | (auth.uid() = landlord_id)                                                                                                                         |
| public     | payment_methods          | Users can delete their payment methods               | PERMISSIVE | {public}        | DELETE | (auth.uid() = landlord_id)                                                                                                                                                      | null                                                                                                                                               |
| public     | payment_methods          | Users can update their payment methods               | PERMISSIVE | {public}        | UPDATE | (auth.uid() = landlord_id)                                                                                                                                                      | null                                                                                                                                               |
| public     | payment_methods          | Users can view their payment methods                 | PERMISSIVE | {public}        | SELECT | (auth.uid() = landlord_id)                                                                                                                                                      | null                                                                                                                                               |
| public     | payouts                  | Users can create their own payouts                   | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                            | (auth.uid() = landlord_id)                                                                                                                         |
| public     | payouts                  | Users can update their own payouts                   | PERMISSIVE | {public}        | UPDATE | (auth.uid() = landlord_id)                                                                                                                                                      | null                                                                                                                                               |
| public     | payouts                  | Users can view their own payouts                     | PERMISSIVE | {public}        | SELECT | (auth.uid() = landlord_id)                                                                                                                                                      | null                                                                                                                                               |
| public     | profiles                 | Owners can insert profiles                           | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                            | ((auth.uid() = id) OR (( SELECT profiles_1.role
   FROM profiles profiles_1
  WHERE (profiles_1.id = auth.uid())) = 'owner'::text))                |
| public     | profiles                 | Owners can read all profiles                         | PERMISSIVE | {public}        | SELECT | (( SELECT profiles_1.role
   FROM profiles profiles_1
  WHERE (profiles_1.id = auth.uid())) = 'owner'::text)                                                                    | null                                                                                                                                               |
| public     | profiles                 | Users can insert their own profile                   | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                            | (auth.uid() = id)                                                                                                                                  |
| public     | profiles                 | Users can read own profile                           | PERMISSIVE | {public}        | SELECT | (auth.uid() = id)                                                                                                                                                               | null                                                                                                                                               |
| public     | profiles                 | Users can update their own profile                   | PERMISSIVE | {public}        | UPDATE | (auth.uid() = id)                                                                                                                                                               | (auth.uid() = id)                                                                                                                                  |
| public     | profiles                 | Users can view their own profile                     | PERMISSIVE | {public}        | SELECT | (auth.uid() = id)                                                                                                                                                               | null                                                                                                                                               |
| public     | properties               | properties_delete_policy                             | PERMISSIVE | {public}        | DELETE | (auth.uid() = landlord_id)                                                                                                                                                      | null                                                                                                                                               |
| public     | properties               | properties_insert_policy                             | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                            | (auth.uid() = landlord_id)                                                                                                                         |
| public     | properties               | properties_select_policy                             | PERMISSIVE | {public}        | SELECT | ((auth.uid() = landlord_id) OR (is_active = true))                                                                                                                              | null                                                                                                                                               |
| public     | properties               | properties_update_policy                             | PERMISSIVE | {public}        | UPDATE | (auth.uid() = landlord_id)                                                                                                                                                      | (auth.uid() = landlord_id)                                                                                                                         |
| public     | tenant_documents         | tenant_documents_delete_landlord_policy              | PERMISSIVE | {public}        | DELETE | (auth.uid() = landlord_id)                                                                                                                                                      | null                                                                                                                                               |
| public     | tenant_documents         | tenant_documents_delete_tenant_policy                | PERMISSIVE | {public}        | DELETE | ((auth.uid() = tenant_id) AND ((status)::text = ANY ((ARRAY['pending'::character varying, 'rejected'::character varying])::text[])))                                            | null                                                                                                                                               |
| public     | tenant_documents         | tenant_documents_insert_policy                       | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                            | ((auth.uid() = tenant_id) AND (auth.uid() IN ( SELECT profiles.id
   FROM profiles
  WHERE (profiles.role = 'tenant'::text))))                     |
| public     | tenant_documents         | tenant_documents_select_landlord_policy              | PERMISSIVE | {public}        | SELECT | (auth.uid() = landlord_id)                                                                                                                                                      | null                                                                                                                                               |
| public     | tenant_documents         | tenant_documents_select_own_policy                   | PERMISSIVE | {public}        | SELECT | (auth.uid() = tenant_id)                                                                                                                                                        | null                                                                                                                                               |
| public     | tenant_documents         | tenant_documents_update_landlord_policy              | PERMISSIVE | {public}        | UPDATE | (auth.uid() = landlord_id)                                                                                                                                                      | (auth.uid() = landlord_id)                                                                                                                         |
| public     | tenant_documents         | tenant_documents_update_tenant_policy                | PERMISSIVE | {public}        | UPDATE | ((auth.uid() = tenant_id) AND ((status)::text = ANY ((ARRAY['pending'::character varying, 'rejected'::character varying])::text[])))                                            | ((auth.uid() = tenant_id) AND ((status)::text = ANY ((ARRAY['pending'::character varying, 'rejected'::character varying])::text[])))               |
| storage    | objects                  | Allow authenticated users to upload to images bucket | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                            | ((bucket_id = 'images'::text) AND (auth.role() = 'authenticated'::text))                                                                           |
| storage    | objects                  | Allow public read from images bucket                 | PERMISSIVE | {public}        | SELECT | (bucket_id = 'images'::text)                                                                                                                                                    | null                                                                                                                                               |
| storage    | objects                  | Allow users to delete their own uploads              | PERMISSIVE | {public}        | DELETE | ((bucket_id = 'images'::text) AND ((auth.uid())::text = (storage.foldername(name))[1]))                                                                                         | null                                                                                                                                               |
| storage    | objects                  | landlord_delete_policy 1l466t_0                      | PERMISSIVE | {public}        | DELETE | ((bucket_id = 'tenant-documents'::text) AND (EXISTS ( SELECT 1
   FROM tenant_documents td
  WHERE (((td.file_path)::text = objects.name) AND (td.landlord_id = auth.uid()))))) | null                                                                                                                                               |
| storage    | objects                  | landlord_read_policy 1l466t_0                        | PERMISSIVE | {public}        | SELECT | ((bucket_id = 'tenant-documents'::text) AND (EXISTS ( SELECT 1
   FROM tenant_documents td
  WHERE (((td.file_path)::text = objects.name) AND (td.landlord_id = auth.uid()))))) | null                                                                                                                                               |
| storage    | objects                  | tenant_delete_policy 1l466t_0                        | PERMISSIVE | {public}        | DELETE | ((bucket_id = 'tenant-documents'::text) AND ((auth.uid())::text = (storage.foldername(name))[1]))                                                                               | null                                                                                                                                               |
| storage    | objects                  | tenant_read_own_policy 1l466t_0                      | PERMISSIVE | {public}        | SELECT | ((bucket_id = 'tenant-documents'::text) AND ((auth.uid())::text = (storage.foldername(name))[1]))                                                                               | null                                                                                                                                               |
| storage    | objects                  | tenant_upload_policy 1l466t_0                        | PERMISSIVE | {public}        | INSERT | null                                                                                                                                                                            | ((bucket_id = 'tenant-documents'::text) AND ((auth.uid())::text = (storage.foldername(name))[1]) AND (storage.filename(name) ~* '\.(pdf)$'::text)) |